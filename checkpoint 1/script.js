var config={apiKey:"AIzaSyDiCiSDgtMdiBld4gExarNqPScJ6NbvLGY",authDomain:"cb-puzzel.firebaseapp.com",databaseURL:"https://cb-puzzel.firebaseio.com",projectId:"cb-puzzel",storageBucket:"cb-puzzel.appspot.com",messagingSenderId:"280161814307"};firebase.initializeApp(config);var databaseRef=firebase.database().ref("users/"),regex=/@[^#@:]+#[0-9]+/gm,nameRegex=/@([^#@:]+)#[0-9]+/gm,idRegex=/@[^#@:]+#([0-9]+)/gm,checkpoint=1;function OK(){var e=document.getElementById("Name").value;if(regex.lastIndex=0,null!=regex.exec(e)){nameRegex.lastIndex=0,idRegex.lastIndex=0;try{var t=nameRegex.exec(e)[1],r=parseInt(idRegex.exec(e)[1])}catch(e){return console.log(e),void displayError("press F12 and copy error to report to mod")}var a=document.getElementById("Comment").value;if(200<a.length)displayError("comment is longer then 200 characters");else try{databaseRef.child(t+r).set({name:t,id:r,checkpoints:{check1:{timestamp:firebase.database.ServerValue.TIMESTAMP,comment:a}}}).then(function(e){window.location.href="./thanks.html"},function(e){databaseRef.child(t+r).child("checkpoints").child("check"+checkpoint).set({timestamp:firebase.database.ServerValue.TIMESTAMP,comment:a}).then(function(e){window.location.href="./thanks.html"},function(e){console.log(e),displayError("press F12 and copy error to report to mod")})})}catch(e){console.log(e),displayError("press F12 and copy error to report to mod")}}else displayError("please enter your name like it was @ed")}function displayError(e){deleteError();var t=document.createElement("footer"),r=document.createAttribute("class");r.value="w3-container w3-red w3-round";var a=document.createAttribute("id");a.value="error",t.setAttributeNode(r),t.setAttributeNode(a);var o=document.createElement("p"),n=document.createTextNode("ERROR: "+e);o.appendChild(n),t.appendChild(o),document.getElementById("card").appendChild(t)}function deleteError(){var e=document.getElementById("card"),t=document.getElementById("error");null!=t&&e.removeChild(t)}